
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Error: Dependency Resolution Failure &#8212; dds 0.1.0-alpha.3 documentation</title>
    <link rel="stylesheet" href="../_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Error: Duplicate Library Identifier" href="dup-lib-name.html" />
    <link rel="prev" title="Error: The catalog database appears corrupted/invalid" href="corrupted-catalog-db.html" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head><body>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="dup-lib-name.html" title="Error: Duplicate Library Identifier"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="corrupted-catalog-db.html" title="Error: The catalog database appears corrupted/invalid"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">dds 0.1.0-alpha.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Runtime Error References</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="error-dependency-resolution-failure">
<h1>Error: Dependency Resolution Failure<a class="headerlink" href="#error-dependency-resolution-failure" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">dds</span></code> implements the <a class="reference external" href="https://github.com/dart-lang/pub/blob/master/doc/solver.md">Pubgrub</a> dependency resolution algorithm.</p>
</div>
<p>If you receive this error, it indicates that the requested dependencies create
one or more conflicts. <code class="docutils literal notranslate"><span class="pre">dds</span></code> will do its best to emit a useful explanation of
how this conflict was formed that can hopefully be used to find the original
basis for the conflict.</p>
<p>Every package can have some number of dependencies, which are other packages
that are required for the dependent package to be used. Beyond just a package
name, a dependency will also have a <em>compatible version range</em>.</p>
<div class="section" id="resolution-example">
<h2>Resolution Example<a class="headerlink" href="#resolution-example" title="Permalink to this headline">¶</a></h2>
<p>For example, let us suppose a package <code class="docutils literal notranslate"><span class="pre">Widgets&#64;4.2.8</span></code> may have a <em>dependency</em>
on <code class="docutils literal notranslate"><span class="pre">Gadgets^2.4.4</span></code> and <code class="docutils literal notranslate"><span class="pre">Gizmos^3.2.0</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">&#64;4.2.8</span></code> suffix on <code class="docutils literal notranslate"><span class="pre">Widgets</span></code> means that <code class="docutils literal notranslate"><span class="pre">4.2.8</span></code> is the <em>exact</em>
version of <code class="docutils literal notranslate"><span class="pre">Widgets</span></code>, while the <code class="docutils literal notranslate"><span class="pre">^2.4.4</span></code> is a <em>version range</em> on
<code class="docutils literal notranslate"><span class="pre">Gadgets</span></code> which starts at <code class="docutils literal notranslate"><span class="pre">2.4.4</span></code> and includes every version until (but
not including) <code class="docutils literal notranslate"><span class="pre">3.0.0</span></code>. <code class="docutils literal notranslate"><span class="pre">^3.2.0</span></code> is a version range on <code class="docutils literal notranslate"><span class="pre">Gizmos</span></code> that
starts at <code class="docutils literal notranslate"><span class="pre">3.2.0</span></code> and includes every version until (but not including)
<code class="docutils literal notranslate"><span class="pre">4.0.0</span></code>.</p>
</div>
<p>Now let us suppose the following versions of <code class="docutils literal notranslate"><span class="pre">Gadgets</span></code> and <code class="docutils literal notranslate"><span class="pre">Gizmos</span></code> are
available:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">Gadgets</span></code>:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">2.4.0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2.4.3</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2.4.4</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2.5.0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2.6.0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3.1.0</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Gizmos</span></code>:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">2.1.0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3.2.0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3.5.6</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4.5.0</span></code></p></li>
</ul>
</dd>
</dl>
<p>We can immediately rule out some candidates of <code class="docutils literal notranslate"><span class="pre">Gadgets</span></code>: for the dependency
<code class="docutils literal notranslate"><span class="pre">Gadgets^2.4.4</span></code>, <code class="docutils literal notranslate"><span class="pre">2.4.0</span></code> and <code class="docutils literal notranslate"><span class="pre">2.4.3</span></code> are <em>too old</em>, while <code class="docutils literal notranslate"><span class="pre">3.1.0</span></code> is
<em>too new</em>. This leaves us with <code class="docutils literal notranslate"><span class="pre">2.4.4</span></code>, <code class="docutils literal notranslate"><span class="pre">2.5.0</span></code>, and <code class="docutils literal notranslate"><span class="pre">2.6.0</span></code>.</p>
<p>We’ll first look at <code class="docutils literal notranslate"><span class="pre">Gadgets&#64;2.4.4</span></code>. We need to recursively solve its
dependencies. Suppose that it declares a dependency of <code class="docutils literal notranslate"><span class="pre">Gizmos^2.1.0</span></code>. We
have already established that we <em>require</em> <code class="docutils literal notranslate"><span class="pre">Gizmos^3.2.0</span></code>, and because
<code class="docutils literal notranslate"><span class="pre">^2.1.0</span></code> and <code class="docutils literal notranslate"><span class="pre">^3.2.0</span></code> are <em>disjoint</em> (they share no common versions) we can
say that <code class="docutils literal notranslate"><span class="pre">Gizmos^3.2.0</span></code> is <em>incompatible</em> with our existing partial solution,
and that its dependent, <code class="docutils literal notranslate"><span class="pre">Gadgets&#64;2.4.4</span></code> is <em>transitively incompatible</em> with
the partial solution. Thus, <code class="docutils literal notranslate"><span class="pre">Gadgets&#64;2.4.4</span></code> is out of the running.</p>
<p>This doesn’t mean we’re immediately broken, though. We still have two more
versions of <code class="docutils literal notranslate"><span class="pre">Gadgets</span></code> to inspect. We’ll start with the next version in line:
<code class="docutils literal notranslate"><span class="pre">Gadgets&#64;2.5.0</span></code>. Suppose that it has a dependency on <code class="docutils literal notranslate"><span class="pre">Gizmos^3.4.0</span></code>. We
have already established a requirement of <code class="docutils literal notranslate"><span class="pre">Gizmos^3.2.0</span></code>, so we must find
a candidate for <code class="docutils literal notranslate"><span class="pre">Gizmos</span></code> that satisfies both dependencies. Fortunately, we
have exactly one: <code class="docutils literal notranslate"><span class="pre">Gizmos&#64;3.5.6</span></code> satisfies <em>both</em> <code class="docutils literal notranslate"><span class="pre">Gizmos^3.2.0</span></code> <em>and</em>
<code class="docutils literal notranslate"><span class="pre">Gizmos^3.4.0</span></code>.</p>
<p>Suppose that <code class="docutils literal notranslate"><span class="pre">Gizmos&#64;3.5.6</span></code> has no further dependencies. At this point, we
have inspected all dependencies and have resolutions for every named package:
Thus, we have a valid solution of <code class="docutils literal notranslate"><span class="pre">Widgets&#64;4.2.8</span></code>, <code class="docutils literal notranslate"><span class="pre">Gadgets&#64;2.5.0</span></code>, and
<code class="docutils literal notranslate"><span class="pre">Gizmos&#64;2.6.0</span></code>! We didn’t even need to inspect <code class="docutils literal notranslate"><span class="pre">Gadgets&#64;2.6.0</span></code>.</p>
<p>In this case, <code class="docutils literal notranslate"><span class="pre">dds</span></code> will not produce an error, and the given package solution
will be used.</p>
<div class="section" id="breaking-the-solution">
<h3>Breaking the Solution<a class="headerlink" href="#breaking-the-solution" title="Permalink to this headline">¶</a></h3>
<p>Now suppose the same case, except that <code class="docutils literal notranslate"><span class="pre">Gadgets&#64;2.5.0</span></code> is not available.
We’ll instead move to check <code class="docutils literal notranslate"><span class="pre">Gadgets&#64;2.6.0</span></code>.</p>
<p>Suppose that <code class="docutils literal notranslate"><span class="pre">Gadgets&#64;2.6.0</span></code> has a dependency on <code class="docutils literal notranslate"><span class="pre">Gizmos^4.0.6</span></code>. While we
<em>do</em> have a candidate thereof, we’ve already declared a requriement on
<code class="docutils literal notranslate"><span class="pre">Gizmos^3.2.0</span></code>. Because <code class="docutils literal notranslate"><span class="pre">^4.0.6</span></code> and <code class="docutils literal notranslate"><span class="pre">^3.2.0</span></code> are disjoint, then there is
no possible satisfier for both ranges. This means that <code class="docutils literal notranslate"><span class="pre">Gizmos^4.0.6</span></code> is
incompatible in the partial solution, and that <code class="docutils literal notranslate"><span class="pre">Gadgets&#64;2.6.0</span></code> is
transitively incompatible as well. It is no longer a candidate.</p>
<p>We’ve exhausted the available candidates for <code class="docutils literal notranslate"><span class="pre">Gadgets^2.4.4</span></code>, so we must now
conclude that <code class="docutils literal notranslate"><span class="pre">Gadgets^2.4.4</span></code> is <em>also incompatible</em>. Transitively, this also
means that <code class="docutils literal notranslate"><span class="pre">Widgets&#64;4.2.8</span></code> is incompatible as well.</p>
<p>We’ve reached a problem, though: <code class="docutils literal notranslate"><span class="pre">Widgets&#64;4.2.8</span></code> is our original requirement!
There is nothing left to invalidate in our partial solution, so we rule that
our original requirements are <em>unsatisfiable</em>.</p>
<p>At this point, <code class="docutils literal notranslate"><span class="pre">dds</span></code> will raise the error that <em>dependency resolution has
failed</em>. It will attempt its best to reconstruct the logic that we have used
above in order to explain what has gone wrong.</p>
</div>
</div>
<div class="section" id="fixing-the-problem">
<h2>Fixing the Problem<a class="headerlink" href="#fixing-the-problem" title="Permalink to this headline">¶</a></h2>
<p>There is no strict process for fixing these conflicts.</p>
<p>Fixing a dependency conflict is a manual process. It will require reviewing the
available versions and underlying reasons that the dependency maintainers have
chosen their compatibility ranges statements.</p>
<p>Your own dependency statements will often need to be changed, and sometimes
even code will have to be revised to reach compatibility with newer or older
dependency versions.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Error: Dependency Resolution Failure</a><ul>
<li><a class="reference internal" href="#resolution-example">Resolution Example</a><ul>
<li><a class="reference internal" href="#breaking-the-solution">Breaking the Solution</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fixing-the-problem">Fixing the Problem</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="corrupted-catalog-db.html"
                        title="previous chapter">Error: The catalog database appears corrupted/invalid</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="dup-lib-name.html"
                        title="next chapter">Error: Duplicate Library Identifier</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/err/dep-res-failure.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="dup-lib-name.html" title="Error: Duplicate Library Identifier"
             >next</a> |</li>
        <li class="right" >
          <a href="corrupted-catalog-db.html" title="Error: The catalog database appears corrupted/invalid"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">dds 0.1.0-alpha.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Runtime Error References</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, vector-of-bool.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  </body>
</html>